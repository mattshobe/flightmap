<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0-google-v3) on Wed Feb 02 14:17:13 PST 2011 -->
<TITLE>
CustomGridUtil (Flight Map common)
</TITLE>

<META NAME="date" CONTENT="2011-02-02">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CustomGridUtil (Flight Map common)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CustomGridUtil.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/google/flightmap/common/db/CustomGridAirportDirectory.html" title="class in com.google.flightmap.common.db"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.PartialCell.html" title="class in com.google.flightmap.common.db"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/google/flightmap/common/db/CustomGridUtil.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CustomGridUtil.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.google.flightmap.common.db</FONT>
<BR>
Class CustomGridUtil</H2>
<PRE>
<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>com.google.flightmap.common.db.CustomGridUtil</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>CustomGridUtil</B><DT>extends <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Provides utility functions for spatial indexing of geographical data using a basic grid
 algorithm.
 <p>
 <b>Concept</b>
 <p>
 Geographical coordinates are mapped on a two dimensional space, with latitude and longitude as
 axes.  The cell corresponding to a coordinate is determined by recursively dividing the area
 into quadrants and appending a corresponding number to the cell id.  The following figure
 illustrates the first two steps of this process.
 <p align="center">
 <a href="doc-files/CustomGridUtil-0.png" target="_blank">
 <img src="doc-files/CustomGridUtil-0.png" width="40%" />
 </a>
 <p>
 Values 0, 1, 2, 3 are attributed to the NW, NE, SW, SE quadrants respectively: each level of
 recursion adds two bits to the previous id.  In base 4 notation, the id of the four level 2
 cells of the north-western quadrant of the world are: 00, 01, 02, 03. Going one level deeper in
 the last cell would give the following level 3 cells: 030, 031, 032 and 033, as shown in the
 following figure.
 <p align="center">
 <a href="doc-files/CustomGridUtil-0a.png" target="_blank">
 <img src="doc-files/CustomGridUtil-0a.png" width="40%" />
 </a>
 <p>
 The number of iterations is limited by the size of integers.  For a typical size of 32 bits,
 there can be 16 iterations, resulting in cells of 611 m. of longitude
 by 305 m. of latitude on Earth's equator.
 <p>
 <b>Area Search</b>
 A common geographical operation consists of retrieving elements situated within a certain area.
 With spatial indexing, this can be done easily if the set of cells covering the area is
 available.  The <A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#getCellsInRectangle(com.google.flightmap.common.data.LatLngRect)"><CODE>getCellsInRectangle</CODE></A> method does that
 by defining a coverage threshold (currently 70%) and doing the following recursively,
 starting from the entire world:
 <ol>
 <li>If the area does not cover any part of the current cell, return nothing.</li>
 <li>If the surface of the cell covered by the area is greater than the threshold:</li>
 return current cell.
 <li>If the current cell cannot be split further, return the current cell.</li>
 <li>Otherwise, split the current cell into quadrants (sub-cells), and apply algorithm to each
 one.  Return cells obtained by those calls.</li>
 </ol>
 This process is illustrated in the following figures. Notes:
 <ul>
 <li>Coverage threshold is set to 50% for this example.</li>
 <li>Lightly filled box illustrates the searched area.</li>
 <li>Continuous black lines represent the virtual border of cells.</li>
 <li>Angled dashed lines cover the cells returned by the algorithm.</li>
 </ul>
 <p align="center">
 <a href="doc-files/CustomGridUtil-1.png" target="_blank">
 <img src="doc-files/CustomGridUtil-1.png" width="40%" />
 </a>
 <p>
 The area does not cover more than 50% of the entire world (or "level 0 cell"), so a first split
 is done (step 4 of the algorithm).<br />
 Both eastern level 1 cells (NE and SE) do not intersect the searched area: they are
 ignored (step 1).
 <p align="center">
 <a href="doc-files/CustomGridUtil-2.png" target="_blank">
 <img src="doc-files/CustomGridUtil-2.png" width="40%" />
 </a>
 <p>
 None of the western level 1 cells are covered enough, so a second split occurs.  The coverage in
 two level 2 cells is now above the 50% threshold: they are added to the set of covering cells.
 <p align="center">
 <a href="doc-files/CustomGridUtil-3.png" target="_blank">
 <img src="doc-files/CustomGridUtil-3.png" width="40%" />
 </a>
 <p>
 The algorithm continues until either the maximum level of splits has occured (step 3, depends on
 the number of bits in an integer) or all cells intersecting with the area have sufficient
 coverage (step 4).
 <p align="center">
 <a href="doc-files/CustomGridUtil-4.png" target="_blank">
 <img src="doc-files/CustomGridUtil-4.png" width="40%" />
 </a>
 <p>
 Reducing the threshold results in less splits but the returned set of cells would
 cover a (much) larger area than the searched area.  Inversely, a greater threshold would
 reduce the difference between the covered and searched areas at the cost of additional splits
 (and increased runtime).
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.PartialCell.html" title="class in com.google.flightmap.common.db">CustomGridUtil.PartialCell</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Represents a cell that can potentially be split into quadrants.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#MAX_LEVEL">MAX_LEVEL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum number of iterations for grid algorithm (see class description)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#NE">NE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Label for North-Eastern quadrant of split</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#NW">NW</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Label for North-Western quadrant of split</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#SE">SE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Label for South-Eastern quadrant of split</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#SW">SW</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Label for South-Western quadrant of split</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#CustomGridUtil()">CustomGridUtil</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Utility class: default and only constructor is private.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#getCellId(int, int)">getCellId</A></B>(int&nbsp;latE6,
          int&nbsp;lngE6)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the id of the (maximum level) cell that contains the point at
 <code>latE6</code>, <code>lngE6</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#getCellId(com.google.flightmap.common.data.LatLng)">getCellId</A></B>(<A HREF="../../../../../com/google/flightmap/common/data/LatLng.html" title="class in com.google.flightmap.common.data">LatLng</A>&nbsp;position)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the id of the (maximum level) cell that contains <code>position</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/LinkedList.html?is-external=true" title="class or interface in java.util">LinkedList</A>&lt;int[]&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#getCellsInRadius(com.google.flightmap.common.data.LatLng, int)">getCellsInRadius</A></B>(<A HREF="../../../../../com/google/flightmap/common/data/LatLng.html" title="class in com.google.flightmap.common.data">LatLng</A>&nbsp;origin,
                 int&nbsp;radius)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns set of cells that cover at least the area within <code>radius</code> of <code>origin</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/LinkedList.html?is-external=true" title="class or interface in java.util">LinkedList</A>&lt;int[]&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#getCellsInRectangle(com.google.flightmap.common.data.LatLngRect)">getCellsInRectangle</A></B>(<A HREF="../../../../../com/google/flightmap/common/data/LatLngRect.html" title="class in com.google.flightmap.common.data">LatLngRect</A>&nbsp;area)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns set of cells that cover at least the given area.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#intersectRange(long, long, long, long)">intersectRange</A></B>(long&nbsp;a,
               long&nbsp;b,
               long&nbsp;A,
               long&nbsp;B)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the length of the intersection of (<code>a</code>, <code>b</code>) and (<code>A</code>, <code>B</code>).</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MAX_LEVEL"><!-- --></A><H3>
MAX_LEVEL</H3>
<PRE>
private static final int <B>MAX_LEVEL</B></PRE>
<DL>
<DD>Maximum number of iterations for grid algorithm (see class description)
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="NW"><!-- --></A><H3>
NW</H3>
<PRE>
private static final <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A> <B>NW</B></PRE>
<DL>
<DD>Label for North-Western quadrant of split
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="NE"><!-- --></A><H3>
NE</H3>
<PRE>
private static final <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A> <B>NE</B></PRE>
<DL>
<DD>Label for North-Eastern quadrant of split
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="SW"><!-- --></A><H3>
SW</H3>
<PRE>
private static final <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A> <B>SW</B></PRE>
<DL>
<DD>Label for South-Western quadrant of split
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="SE"><!-- --></A><H3>
SE</H3>
<PRE>
private static final <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</A> <B>SE</B></PRE>
<DL>
<DD>Label for South-Eastern quadrant of split
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CustomGridUtil()"><!-- --></A><H3>
CustomGridUtil</H3>
<PRE>
private <B>CustomGridUtil</B>()</PRE>
<DL>
<DD>Utility class: default and only constructor is private.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="intersectRange(long, long, long, long)"><!-- --></A><H3>
intersectRange</H3>
<PRE>
private static long <B>intersectRange</B>(long&nbsp;a,
                                   long&nbsp;b,
                                   long&nbsp;A,
                                   long&nbsp;B)</PRE>
<DL>
<DD>Returns the length of the intersection of (<code>a</code>, <code>b</code>) and (<code>A</code>, <code>B</code>).
 <p>
 This is a mathematical utility method: no particular unit is assumed on the parameters.
 Obviously, for this call to make sense, all arguments should have the same unit, which is also
 the unit of the returned value.
 <p>
 Examples: <br />
 <table border="1">
 <tr><th>Arguments: <code>(a, b) (A, B)</code></th><th>Return value</th></tr>
 <tr><td><code>(0, 10) (5, 15) </code></td><td><code>5</code> (length of (5, 10))</td> </tr>
 <tr><td><code>(0, 20) (5, 15) </code></td><td><code>10</code> (length of (5, 15))</td> </tr>
 <tr><td><code>(0, 10) (10, 20) </code></td><td><code>0</code> (length of (10, 10))</td> </tr>
 <tr><td><code>(0, 5) (10, 20) </code></td><td><code>0</code> (no intersection)</td> </tr>
 </table> 
 <p>
 If <code>a</code> > <code>b</code> or <code>A</code> > <code>B</code>, the values are swapped accordingly:
 <code>intersectRange(10, 1, 20, 5) == intersectRange(1, 10, 5, 20)</code>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCellId(com.google.flightmap.common.data.LatLng)"><!-- --></A><H3>
getCellId</H3>
<PRE>
public static int <B>getCellId</B>(<A HREF="../../../../../com/google/flightmap/common/data/LatLng.html" title="class in com.google.flightmap.common.data">LatLng</A>&nbsp;position)</PRE>
<DL>
<DD>Returns the id of the (maximum level) cell that contains <code>position</code>.
 See class description.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCellId(int, int)"><!-- --></A><H3>
getCellId</H3>
<PRE>
public static int <B>getCellId</B>(int&nbsp;latE6,
                            int&nbsp;lngE6)</PRE>
<DL>
<DD>Returns the id of the (maximum level) cell that contains the point at
 <code>latE6</code>, <code>lngE6</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>latE6</CODE> - Latitude, in E6 format (decimal degrees * 1E6)<DD><CODE>lngE6</CODE> - Longitude, in E6 format (decimal degrees * 1E6)</DL>
</DD>
</DL>
<HR>

<A NAME="getCellsInRadius(com.google.flightmap.common.data.LatLng, int)"><!-- --></A><H3>
getCellsInRadius</H3>
<PRE>
static <A HREF="http://java.sun.com/javase/6/docs/api/java/util/LinkedList.html?is-external=true" title="class or interface in java.util">LinkedList</A>&lt;int[]&gt; <B>getCellsInRadius</B>(<A HREF="../../../../../com/google/flightmap/common/data/LatLng.html" title="class in com.google.flightmap.common.data">LatLng</A>&nbsp;origin,
                                          int&nbsp;radius)
                                   throws <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</A></PRE>
<DL>
<DD>Returns set of cells that cover at least the area within <code>radius</code> of <code>origin</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>origin</CODE> - Center of circle in Lat,Lng space<DD><CODE>radius</CODE> - Radius of circle, in degrees * 1E6
<DT><B>Returns:</B><DD>List of cell intervals that cover the area.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.html#getCellsInRectangle(com.google.flightmap.common.data.LatLngRect)"><CODE>getCellsInRectangle(LatLngRect)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getCellsInRectangle(com.google.flightmap.common.data.LatLngRect)"><!-- --></A><H3>
getCellsInRectangle</H3>
<PRE>
static <A HREF="http://java.sun.com/javase/6/docs/api/java/util/LinkedList.html?is-external=true" title="class or interface in java.util">LinkedList</A>&lt;int[]&gt; <B>getCellsInRectangle</B>(<A HREF="../../../../../com/google/flightmap/common/data/LatLngRect.html" title="class in com.google.flightmap.common.data">LatLngRect</A>&nbsp;area)
                                      throws <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</A></PRE>
<DL>
<DD>Returns set of cells that cover at least the given area.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>area</CODE> - Rectangular area in Lat,Lng space.
<DT><B>Returns:</B><DD>List of cell intervals that cover the area.
             Each element of the list is an array of two integers: int[]{cellMin, cellMax}
             The set of all cellIds such that cellMin <= cellId < cellMax covers area.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CustomGridUtil.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/google/flightmap/common/db/CustomGridAirportDirectory.html" title="class in com.google.flightmap.common.db"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/google/flightmap/common/db/CustomGridUtil.PartialCell.html" title="class in com.google.flightmap.common.db"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/google/flightmap/common/db/CustomGridUtil.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CustomGridUtil.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
